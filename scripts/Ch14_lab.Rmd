---
title: "Ch14_lab"
author: "Holden Jones"
date: '2022-09-28'
output: html_document
---

# Strings


--------------------------------------------------------------------------------
# 14.1 Introduction

intro to string manipulation. focus is on regular expressions
regexps are concise language for describing patterns in strings - they look crazy
  at first!
  
## 14.1.1 Prerequisites
```{r}
library(tidyverse)
```


--------------------------------------------------------------------------------
# 14.2 String basics

can create strings with "" or '', usually do "" unless need multiple quotes
```{r}
string1 <- "This is a string"
string2 <- 'If I want to include a "quote" inside a string, I use single quotes'
```

have to be really specific with quotes within strings, and backslashes

use writeLines() to see the actual string contents

"\n" for newline and "\n" for tab

## 14.2.1 String length

use str_length
```{r}
str_length(c("a", "R for data science", NA))
```

## 14.2.2 Combining strings

use str_c
```{r}
str_c("x", "y")

str_c("x", "y", "z")
```

missing values contagious, use str_replace_na(x) if want to print as NA

objects of length 0 silently dropped, useful with if
```{r}
name <- "Holden"
time_of_day <- "night"
birthday <- FALSE

str_c(
  "Good ", time_of_day, " ", name,
  if (birthday) " and HAPPY BIRTHDAY",
  "."
)
```

collapse to make a vector a single string
```{r}
str_c(c("x", "y", "z"), collapse = ", ")
```

## 14.2.3 Subsetting strings

str_sub() to extract parts of a string, start and end arguments
```{r}
x <- c("Apple", "Banana", "Pear")
str_sub(x, 1, 3)
str_sub(x, -3, -1)
```

doesn't fail if string is too short

## 14.2.4 Locales

str_to_lower() and str_to_upper() to make uper or lower case
use locale, b/c some places have different cap rules ex. Turkey

sorting also affected by locale
str_sort() and str_order() take additional locale argument:
```{r}
x <- c("apple", "eggplant", "banana")

str_sort(x, locale = "en")  # English

str_sort(x, locale = "haw") # Hawaiian
# why would hawaiian have different sorting? vowels first?
```

## 14.2.5 Exercises

1. In code that doesn’t use stringr, you’ll often see paste()
and paste0(). What’s the difference between the two functions?
What stringr function are they equivalent to? How do the
functions differ in their handling of NA?
*paste converts its arguments to character strings and seperates by sep argument, space as default. paste0 is more effeicient and assumes that sep = "" ie no spacing*
*str_c is closer in behavior to paste0*
*but they do handle NAs differently, for str_c if one is NA the whole thing is!*
```{r}
paste("base", "ball")

paste0("base", "ball")

str_c("base", "ball")

str_c("foo", NA)

paste("foo", NA)

paste0("foo", NA)
```

2. In your own words, describe the difference between the 
sep and collapse arguments to str_c().
*sep asks how to separate each ind string from the one before and after the previous / next. Collapse asks should these all become one string?*
```{r}
str_c("base", "ball", sep = "", collapse = NULL)
str_c("base", "ball", sep = "_", collapse = NULL)

str_c("base", "ball", collapse = "")
str_c("base", "ball", sep = "  ")

str_c(letters, collapse = "")
str_c(letters, sep = "")
```

3. Use str_length() and str_sub() to extract the middle
character from a string. What will you do if the string has 
an even number of characters?
```{r}
x <- "letsgomets"

str_sub(x,
        str_length(x) / 2,
        str_length(x) / 2
)

# from answers:
x <- c("lets", "go", "mets")
L <- str_length(x)
m <- ceiling(L / 2)
str_sub(x, m, m)

```

4. What does str_wrap() do? When might you want to use it?
*it wraps strings into nicely formatted paragraphs*
*maybe if making a markdown? or something that needs to be read*

5. What does str_trim() do? What’s the opposite of str_trim()?
*str_trim() removes whitespace from start and end of string*
*str_pad() is opposite and adds whitespace*

6. Write a function that turns (e.g.) a vector c("a", "b",
"c") into the string a, b, and c. Think carefully about what
it should do if given a vector of length 0, 1, or 2.
*string - just a character variable that contains one or more characters*
*character vector is a set of strings stored as a single object*
*lmao just using the answer sheet for this one:*
```{r}
str_commasep <- function(x, delim = ",") {
  n <- length(x)
  if (n == 0) {
    ""
  } else if (n == 1) {
    x
  } else if (n == 2) {
    # no comma before and when n == 2
    str_c(x[[1]], "and", x[[2]], sep = " ")
  } else {
    # commas after all n - 1 elements
    not_last <- str_c(x[seq_len(n - 1)], delim)
    # prepend "and" to the last element
    last <- str_c("and", x[[n]], sep = " ")
    # combine parts with spaces
    str_c(c(not_last, last), collapse = " ")
  }
}

str_commasep("")

str_commasep("a")

str_commasep(c("a", "b"))

str_commasep(c("a", "b", "c"))

str_commasep(c("a", "b", "c", "d"))
```


--------------------------------------------------------------------------------
# 14.3 Matching patterns with regular expressions

## RESUME HERE







